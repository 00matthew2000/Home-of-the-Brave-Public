#### American Civil War Decisions by Herkles ####

ACW_foreign_volunteer_decisions = {# Foreign Volunteers
	ACW_support_csa_dec = {# Support the CSA
		icon = ger_military_buildup
		allowed = {
			NOT = {
				tag = USA
				tag = CSA
				tag = CAL
				tag = TEX
				tag = NEE
			}
		}
		available = {
			country_exists = CSA
		}
		visible = {
			country_exists = CSA
			has_socialist_government = yes
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
			arms_factory > 4
			NOT = {
				has_war_with = CSA
				has_country_flag = ACW_supported_CSA
				has_country_flag = ACW_supported_USA
				has_country_flag = ACW_supported_TEX
				has_country_flag = ACW_supported_CAL
			}
		}
		fire_only_once = yes
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 1999 }
		}
		custom_cost_text = 2000_infantry_equipment_1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 4000 }
			}
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_support_csa_dec"
			set_country_flag = ACW_supported_CSA
			send_equipment = { target = CSA type = infantry_equipment amount = 2000 }
			CSA = {
				country_event = amcivwar.611
			}
		}
	}

	ACW_support_usa_dec = {# Support the USA
		icon = ger_military_buildup
		allowed = {
			NOT = {
				tag = USA
				tag = CSA
				tag = CAL
				tag = TEX
				tag = NEE
			}
		}
		available = {
			country_exists = USA
		}
		visible = {
			country_exists = USA
			NOT = { has_socialist_government = yes }
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
			arms_factory > 4
			NOT = {
				has_war_with = USA
				has_country_flag = ACW_supported_CSA
				has_country_flag = ACW_supported_USA
				has_country_flag = ACW_supported_TEX
				has_country_flag = ACW_supported_CAL
			}
			OR = {
				is_actual_major = yes
				is_in_north_america = yes
				is_in_south_america = yes
			}
			OR = {
				NOT = { is_in_faction_with = CAN }
				CAN = { has_country_flag = CAN_supports_USA }
			}
		}
		fire_only_once = yes
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 1999 }
		}
		custom_cost_text = 2000_infantry_equipment_1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 4000 }
			}
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				ROOT = { tag = GER }
				country_exists = TEX
			}
			modifier = {
				factor = 0
				ROOT = { tag = JAP }
				country_exists = CAL
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_support_usa_dec"
			set_country_flag = ACW_supported_USA
			send_equipment = { target = USA type = infantry_equipment amount = 2000 }
			USA = {
				country_event = amcivwar.611
			}
		}
	}

	ACW_support_aus_dec = {# Support the AUS
		icon = ger_military_buildup
		allowed = {
			NOT = {
				tag = USA
				tag = CSA
				tag = CAL
				tag = TEX
				tag = NEE
			}
		}
		available = {
			country_exists = TEX
		}
		visible = {
			country_exists = TEX
			NOT = {	has_socialist_government = yes }
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
			arms_factory > 4
			NOT = {
				has_war_with = TEX
				has_country_flag = ACW_supported_CSA
				has_country_flag = ACW_supported_USA
				has_country_flag = ACW_supported_TEX
				has_country_flag = ACW_supported_CAL
			}
			OR = {
				is_actual_major = yes
				is_in_north_america = yes
				is_in_south_america = yes
			}
			OR = {
				NOT = { is_in_faction_with = CAN }
				CAN = { has_country_flag = CAN_supports_TEX }
			}
		}
		fire_only_once = yes
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 1999 }
		}
		custom_cost_text = 2000_infantry_equipment_1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 4000 }
			}
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				ROOT = { tag = JAP }
				country_exists = CAL
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_support_aus_dec"
			set_country_flag = ACW_supported_TEX
			send_equipment = { target = TEX type = infantry_equipment amount = 2000 }
			TEX = {
				country_event = amcivwar.611
			}
		}
	}

	ACW_support_psa_dec = {# Support the PSA
		icon = ger_military_buildup
		allowed = {
			NOT = {
				tag = USA
				tag = CSA
				tag = CAL
				tag = TEX
				tag = NEE
			}
		}
		available = {
			country_exists = CAL
		}
		visible = {
			has_war = no
			country_exists = CAL
			NOT = {	has_socialist_government = yes }
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
			arms_factory > 4
			NOT = {
				has_war_with = CAL
				has_country_flag = ACW_supported_CSA
				has_country_flag = ACW_supported_USA
				has_country_flag = ACW_supported_TEX
				has_country_flag = ACW_supported_CAL
			}
			OR = {
				is_actual_major = yes
				is_in_north_america = yes
				is_in_south_america = yes
			}
			OR = {
				NOT = { is_in_faction_with = CAN }
				CAN = { has_country_flag = CAN_supports_CAL }
			}
		}
		fire_only_once = yes
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 1999
			}
		}
		custom_cost_text = 2000_infantry_equipment_1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 4000 }
			}
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				ROOT = { tag = GER }
				country_exists = TEX
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_support_psa_dec"
			set_country_flag = ACW_supported_CAL
			send_equipment = { target = CAL type = infantry_equipment amount = 2000 }
			CAL = {
				country_event = amcivwar.611
			}
		}
	}
}

ACW_civil_war_decisions = {
	ACW_move_quickly = {
		icon = generic_army_support

		allowed = { always = no } #manually activated

		available = {
			USA = { surrender_progress > 0.40 }
		}

		selectable_mission = yes
		days_mission_timeout = 180
		is_good = no
		cost = 0
		fire_only_once = yes

		cancel_trigger = {
			NOT = { has_war_with = USA }
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout ACW_move_quickly"
			add_war_support = -0.20
			add_ideas = ACW_times_up
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_move_quickly"
			add_political_power = 100
			if = {
				limit = { has_idea = ACW_fired_up }
				hidden_effect = { remove_ideas = ACW_fired_up }
			}
			add_timed_idea = { idea = ACW_fired_up days = 90 }
		}

		ai_will_do = {
			factor = 100
		}
	}

	CAL_deal_with_devil = {
		icon = generic_agreement

		allowed = {
			tag = CAL
		}
		available = {
			has_war_with = FROM
		}
		visible = {
			has_global_flag = USA_civil_war_begun_flag
			has_global_flag = { flag = USA_civil_war_begun_flag days > 90 }
			NOT = { has_global_flag = USA_civil_war_over_flag }
			is_in_faction = no
			OR = {
				AND = {
					NOT = { country_exists = USA }
					CSA = {
						exists = yes
						has_war_with = ROOT
						has_war_with = FROM
					}
				}
				AND = {
					NOT = { country_exists = CSA }
					USA = {
						exists = yes
						has_war_with = ROOT
						has_war_with = FROM
					}
				}
			}
			FROM = {
				exists = yes
				is_in_faction = no
				surrender_progress < 0.80
				OR = {
					tag = USA
					tag = TEX
				}
				NOT = {
					has_country_flag = ACW_refused_truce
					has_country_flag = ACW_accepted_truce
					has_country_flag = ACW_proposed_truce
				}
			}

			set_temp_variable = { enemy_advantage = 0 }
			if = {
				limit = { NOT = { country_exists = USA } }
				add_to_temp_variable = { enemy_advantage = CSA.num_of_military_factories }
				add_to_temp_variable = { enemy_advantage = CSA.num_of_controlled_states }
			}
			else = {
				add_to_temp_variable = { enemy_advantage = USA.num_of_military_factories }
				add_to_temp_variable = { enemy_advantage = USA.num_of_controlled_states }
			}
			subtract_from_temp_variable = { enemy_advantage = ROOT.num_of_military_factories }
			subtract_from_temp_variable = { enemy_advantage = ROOT.num_of_controlled_states }
			subtract_from_temp_variable = { enemy_advantage = FROM.num_of_military_factories }
			subtract_from_temp_variable = { enemy_advantage = FROM.num_of_controlled_states }
			check_variable = { enemy_advantage > 0 }
		}

		targets = { USA TEX }

		target_trigger = {
			FROM = {
				exists = yes
				is_in_faction = no
				surrender_progress < 0.80
				NOT = {
					has_country_flag = ACW_refused_truce
					has_country_flag = ACW_proposed_truce
				}
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAL_deal_with_devil target: [From.GetName]"
			set_country_flag = ACW_proposed_truce
			if = {
				limit = {
					NOT = { country_exists = USA }
				}
				CSA = { save_event_target_as = enemy_country }
			}
			else = {
				USA = { save_event_target_as = enemy_country }
			}
			FROM = {
				country_event = amcivwar.520
			}
		}
	}

	TEX_deal_with_devil = {
		icon = generic_agreement

		allowed = {
			tag = TEX
		}
		available = {
			has_war_with = FROM
		}
		visible = {
			has_global_flag = USA_civil_war_begun_flag
			has_global_flag = { flag = USA_civil_war_begun_flag days > 90 }
			NOT = { has_global_flag = USA_civil_war_over_flag }
			NOT = { country_exists = CAL }
			is_in_faction = no
			country_exists = CSA
			country_exists = USA
			FROM = {
				exists = yes
				is_in_faction = no
				surrender_progress < 0.80
				NOT = {
					has_country_flag = ACW_refused_truce
					has_country_flag = ACW_accepted_truce
					has_country_flag = ACW_proposed_truce
				}
			}
			OR = {
				AND = {
					USA = {
						has_war_with = ROOT
						has_war_with = FROM
					}
					set_temp_variable = { USA_advantage = 0 }
					add_to_temp_variable = { USA_advantage = USA.num_of_military_factories }
					add_to_temp_variable = { USA_advantage = USA.num_of_controlled_states }
					subtract_from_temp_variable = { USA_advantage = ROOT.num_of_military_factories }
					subtract_from_temp_variable = { USA_advantage = ROOT.num_of_controlled_states }
					subtract_from_temp_variable = { USA_advantage = FROM.num_of_military_factories }
					subtract_from_temp_variable = { USA_advantage = FROM.num_of_controlled_states }
					check_variable = { USA_advantage > 0 }
				}
				AND = {
					CSA = {
						has_war_with = ROOT
						has_war_with = FROM
					}
					set_temp_variable = { CSA_advantage = 0 }
					add_to_temp_variable = { CSA_advantage = CSA.num_of_military_factories }
					add_to_temp_variable = { CSA_advantage = CSA.num_of_controlled_states }
					subtract_from_temp_variable = { CSA_advantage = ROOT.num_of_military_factories }
					subtract_from_temp_variable = { CSA_advantage = ROOT.num_of_controlled_states }
					subtract_from_temp_variable = { CSA_advantage = FROM.num_of_military_factories }
					subtract_from_temp_variable = { CSA_advantage = FROM.num_of_controlled_states }
					check_variable = { CSA_advantage > 0 }
				}
			}
		}

		targets = { USA CSA }

		target_trigger = {
			FROM = {
				exists = yes
				is_in_faction = no
				surrender_progress < 0.80
				NOT = {
					has_country_flag = ACW_refused_truce
					has_country_flag = ACW_accepted_truce
					has_country_flag = ACW_proposed_truce
				}
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TEX_deal_with_devil target: [From.GetName]"
			set_country_flag = ACW_proposed_truce
			if = {
				limit = {
					FROM = { tag = USA }
				}
				CSA = { save_event_target_as = enemy_country }
			}
			else = {
				USA = { save_event_target_as = enemy_country }
			}
			FROM = {
				country_event = amcivwar.520
			}
		}
	}

	ACW_break_deal_with_devil = {
		icon = generic_prepare_civil_war

		allowed = {
			OR = {
				tag = TEX
				tag = CAL
			}
		}
		available = {
			NOT = { has_war_with = FROM }
		}
		visible = {
			has_country_flag = ACW_has_deal_with_devil
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
			FROM = {
				exists = yes
				has_country_flag = ACW_deal_with_devil_@ROOT
				NOT = {
					tag = ROOT
					has_war_with = ROOT
				}
			}
		}

		targets = { USA CSA CAL TEX }

		target_trigger = {
			FROM = {
				has_country_flag = ACW_deal_with_devil_@ROOT
				NOT = {
					tag = ROOT
					has_war_with = ROOT
				}
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = { surrender_progress < 0.80 }
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.75 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_break_deal_with_devil target: [From.GetName]"
			clr_country_flag = ACW_has_deal_with_devil
			clr_country_flag = ACW_deal_with_devil_@FROM
			FROM = {
				clr_country_flag = ACW_has_deal_with_devil
				clr_country_flag = ACW_deal_with_devil_@ROOT
			}
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			if = {
				limit = {
					CAN = {
						has_country_flag = CAN_deal_with_devil_@ROOT
						NOT = {
							has_war_with = ROOT
							has_war_with = FROM
						}
					}
				}
				hidden_effect = {
					save_event_target_as = can_ally
					FROM = { save_event_target_as = can_enemy }
					CAN = { country_event = amcivwar.526 }
				}
			}
			else_if = {
				limit = {
					CAN = {
						has_country_flag = CAN_deal_with_devil_@FROM
						NOT = {
							has_war_with = ROOT
							has_war_with = FROM
						}
					}
				}
				hidden_effect = {
					save_event_target_as = can_enemy
					FROM = { save_event_target_as = can_ally }
					CAN = { country_event = amcivwar.526 }
				}
			}
		}
	}

	USA_relocate_capital_civil_war = {
		icon = generic_political_discourse
		allowed = { original_tag = USA }
		available = {
			capital_scope = { state = 361 }
		}
		visible = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
				has_country_flag = USA_assassinated_reed
				has_country_flag = USA_ACW_compromise_rejected
				has_country_flag = USA_assassinated_long
				has_country_flag = USA_ACW_austerity_rejected
			}
			OR = {
				382 = { is_owned_and_controlled_by = USA }
				797 = { is_owned_and_controlled_by = USA }
				388 = { is_owned_and_controlled_by = USA }
				377 = { is_owned_and_controlled_by = USA }
			}
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				361 = { is_fully_controlled_by = USA }
			}
			modifier = {
				factor = 0
				controls_state = 361 #Maryland
				controls_state = 369 #Kentucky
				OR = {
					controls_state = 929 #West Virginia
					controls_state = 362 #Virginia
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision USA_relocate_capital_civil_war"
			set_country_flag = USA_relocate_capital_flag
			USA = {	country_event = amcivwar.76 }
		}
	}

	USA_emergency_reserve = {
		icon = ger_military_buildup
		allowed = { tag = USA }
		available = {
			OR = {
				surrender_progress > 0.30
				custom_trigger_tooltip = {
					tooltip = USA_capital_moved
					capital_scope = { NOT = { state = 361 } }
				}
			}
		}
		visible = {
			is_ai = yes
			OR = {
				surrender_progress > 0.30
				capital_scope = { NOT = { state = 361 } }
			}
			OR = {
				361 = { is_owned_and_controlled_by = USA }
				362 = { is_owned_and_controlled_by = USA }
				930 = { is_owned_and_controlled_by = USA }
				363 = { is_owned_and_controlled_by = USA }
				369 = { is_owned_and_controlled_by = USA }
				931 = { is_owned_and_controlled_by = USA }
			}
			OR = {
				382 = { is_owned_and_controlled_by = USA }
				378 = { is_owned_and_controlled_by = USA }
				829 = { is_owned_and_controlled_by = USA }
				386 = { is_owned_and_controlled_by = USA }
				377 = { is_owned_and_controlled_by = USA }
			}
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision USA_emergency_reserve"
			custom_effect_tooltip = ACW_six_units_raised
			hidden_effect = {
				random_owned_controlled_state = {
					prioritize =  { 361 }
					limit = {
						OR = {
							state = 361
							state = 362
							state = 930
							state = 363
							state = 369
							state = 931
						}
					}
					create_unit = {
						division = "name = \"1st Emergency Reserves\" division_template = \"Loyalist Motorized Guard\"  start_experience_factor = 0.3"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
					create_unit = {
						division = "name = \"2nd Emergency Reserves\" division_template = \"Army Loyalists\"  start_experience_factor = 0.3"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
					create_unit = {
						division = "name = \"5th Emergency Reserves\" division_template = \"Loyalist Garrison\"  start_experience_factor = 0.1"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					prioritize =  { 382 }
					limit = {
						OR = {
							state = 382
							state = 378
							state = 829
							state = 386
							state = 377
						}
					}
					create_unit = {
						division = "name = \"3rd Emergency Reserves\" division_template = \"Loyalist Motorized Guard\"  start_experience_factor = 0.3"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
					create_unit = {
						division = "name = \"4th Emergency Reserves\" division_template = \"Army Loyalists\"  start_experience_factor = 0.3"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
					create_unit = {
						division = "name = \"6th Emergency Reserves\" division_template = \"Loyalist Garrison\"  start_experience_factor = 0.1"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
				}
			}
		}
	}

	CAL_emergency_reserve = {
		icon = ger_military_buildup
		allowed = { tag = CAL }
		available = {
			NOT = { has_full_control_of_state = 378 }
		}
		visible = {
			378 = { is_owned_and_controlled_by = CAL }
			NOT = { has_full_control_of_state = 378 }
			NOT = { has_global_flag = USA_civil_war_over_flag }
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAL_emergency_reserve"
			custom_effect_tooltip = ACW_three_units_capital
			hidden_effect = {
				378 = {
					create_unit = {
						division = "name = \"1st PSA Emergency Reserve\" division_template = \"PSA Militia\"  start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
					create_unit = {
						division = "name = \"2nd PSA Emergency Reserve\" division_template = \"PSA Militia\"  start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
					create_unit = {
						division = "name = \"3rd PSA Emergency Reserve\" division_template = \"PSA Militia\"  start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
				}
			}
		}
	}

	CSA_emergency_reserve = {
		icon = ger_military_buildup
		allowed = { tag = CSA }
		available = {
			NOT = { has_full_control_of_state = 395 }
		}
		visible = {
			395 = { is_owned_and_controlled_by = CSA }
			NOT = { has_full_control_of_state = 395 }
			NOT = { has_global_flag = USA_civil_war_over_flag }
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CSA_emergency_reserve"
			custom_effect_tooltip = ACW_three_units_capital
			hidden_effect = {
				395 = {
					create_unit = {
						division = "name = \"1st CSA Emergency Reserve\" division_template = \"Revolutionary Militia\"  start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
					create_unit = {
						division = "name = \"2nd CSA Emergency Reserve\" division_template = \"Revolutionary Militia\"  start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
					create_unit = {
						division = "name = \"3rd CSA Emergency Reserve\" division_template = \"Revolutionary Militia\"  start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
				}
			}
		}
	}

	TEX_emergency_reserve = {
		icon = ger_military_buildup
		allowed = { tag = TEX }
		available = {
			NOT = { has_full_control_of_state = 371 }
		}
		visible = {
			371 = { is_owned_and_controlled_by = TEX }
			NOT = { has_full_control_of_state = 371 }
			NOT = { has_global_flag = USA_civil_war_over_flag }
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TEX_emergency_reserve"
			custom_effect_tooltip = ACW_three_units_capital
			hidden_effect = {
				371 = {
					create_unit = {
						division = "name = \"1st AUS Emergency Reserve\" division_template = \"AUS Militia\"  start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
					create_unit = {
						division = "name = \"2nd AUS Emergency Reserve\" division_template = \"AUS Militia\"  start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
					create_unit = {
						division = "name = \"3rd AUS Emergency Reserve\" division_template = \"AUS Militia\"  start_experience_factor = 0.0"
						allow_spawning_on_enemy_provs = yes
						owner = ROOT
					}
				}
			}
		}
	}

	TEX_silver_legion_support = {
		icon = generic_political_discourse
		allowed = { tag = TEX }
		available = {
			has_war = yes
		}
		visible = {
			has_country_flag = TEX_silver_legion_supported
			NOT = { has_global_flag = USA_civil_war_over_flag }
		}

		modifier = {
			training_time_factor = -0.25
			army_morale_factor = 0.20
		}

		days_remove = 90
		days_re_enable = 180
		fire_only_once = no
		cancel_if_not_visible = yes
		cost = 50

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TEX_silver_legion_support"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TEX_silver_legion_support"
			add_manpower = 50000
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = 1500
				producer = TEX
			}
		}
	}

	TEX_call_up_silver_legion = {
		icon = ger_military_buildup
		allowed = { tag = TEX }
		available = {
			has_war = yes
		}
		visible = {
			has_country_flag = TEX_silver_legion_supported
			NOT = { has_global_flag = USA_civil_war_over_flag }
		}

		fire_only_once = yes
		cancel_if_not_visible = yes
		days_remove = 15
		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TEX_call_up_silver_legion"
			add_political_power = 100
			add_war_support = 0.10
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TEX_call_up_silver_legion"
			custom_effect_tooltip = TEX_silver_legion_raised
			hidden_effect = {
				load_oob = "USA_civil_war_silver_legion"
			}
		}
	}

	CAL_inspire_resistance = {
		icon = generic_prepare_civil_war
		allowed = { tag = CAL }
		available = {
			FROM = {
				OR = {
					controls_state = 360 #Pennsylvania
					controls_state = 931 #Connecticut
					controls_state = 366 #Florida
					controls_state = 391 #Minnesota
				}
			}
		}
		visible = {
			surrender_progress > 0.20
			has_capitulated = no
			has_global_flag = { flag = USA_civil_war_begun_flag days > 60 }
			NOT = { has_global_flag = USA_civil_war_over_flag }
			FROM = {
				exists = yes
				has_war_with = ROOT
				surrender_progress < 0.20
				NOT = { has_country_flag = ACW_rebels_raised_@ROOT }
			}
		}

		target_root_trigger = {
			surrender_progress > 0.20
		}

		cancel_trigger = {
			has_global_flag = USA_civil_war_over_flag
		}

		targets = { USA CSA TEX }

		target_trigger = {
			FROM = {
				has_war_with = ROOT
				surrender_progress < 0.20
				NOT = { has_country_flag = ACW_rebels_raised_@ROOT }
			}
		}

		fire_only_once = no
		days_remove = 15
		days_re_enable = 90
		cost = 0

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 2
				FROM = { tag = USA }
			}
			modifier = {
				factor = 0.1
				surrender_progress > 0
			}
			modifier = {
				factor = 2
				any_owned_state = { is_controlled_by = FROM }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAL_inspire_resistance target: [From.GetName]"
			add_political_power = -100
			FROM = { set_country_flag = ACW_rebels_raised_@ROOT }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CAL_inspire_resistance target: [From.GetName]"
			if = {
				limit = {
					any_state = {
						is_controlled_by = FROM
						OR = {
							state = 360 #Pennsylvania
							state = 931 #Connecticut
							state = 366 #Florida
							state = 391 #Minnesota
						}
					}
				}
				FROM = { country_event = amcivwar.97 }
				every_state = {
					limit = {
						is_controlled_by = FROM
						OR = {
							state = 360 #Pennsylvania
							state = 931 #Connecticut
							state = 366 #Florida
							state = 391 #Minnesota
						}
					}
					custom_effect_tooltip = ACW_recruit_5_rebels
					hidden_effect = {
						if = {
							limit = { state = 360 }
							ROOT = { load_oob = "ACW_PSA_inspire_florida" }
						}
						if = {
							limit = { state = 931 }
							ROOT = { load_oob = "ACW_PSA_inspire_connecticut" }
						}
						if = {
							limit = { state = 366 }
							ROOT = { load_oob = "ACW_PSA_inspire_pennsylvania" }
						}
						if = {
							limit = { state = 391 }
							ROOT = { load_oob = "ACW_PSA_inspire_minnesota" }
						}
					}
				}
			}
			else = {
				add_political_power = 50
				FROM = { clr_country_flag = ACW_rebels_raised_@ROOT }
			}

			if = {
				limit = {
					NOT = {
						has_idea = ACW_federal_front_idea
						has_idea = ACW_syndicalist_front_idea
						has_idea = ACW_longist_front_idea
						has_idea = ACW_pacific_front_idea
					}
				}
				if = {
					limit = { FROM = { tag = USA } }
					add_timed_idea = {
						idea = ACW_federal_front_idea
						days = 20
					}
				}
				else_if = {
					limit = { FROM = { tag = CSA } }
					add_timed_idea = {
						idea = ACW_syndicalist_front_idea
						days = 20
					}
				}
				else_if = {
					limit = { FROM = { tag = TEX } }
					add_timed_idea = {
						idea = ACW_longist_front_idea
						days = 20
					}
				}
			}
		}
	}

	TEX_inspire_longists = {
		icon = generic_prepare_civil_war
		allowed = { tag = TEX }
		available = {
			FROM = {
				OR = {
					controls_state = 368 #Tennessee
					controls_state = 359 #New Jersey
					controls_state = 829 #Southern California
					controls_state = 362 #Virginia
				}
			}
		}
		visible = {
			surrender_progress > 0.20
			has_capitulated = no
			has_global_flag = { flag = USA_civil_war_begun_flag days > 60 }
			NOT = { has_global_flag = USA_civil_war_over_flag }
			FROM = {
				exists = yes
				has_war_with = ROOT
				surrender_progress < 0.20
				NOT = { has_country_flag = ACW_rebels_raised_@ROOT }
			}
		}

		target_root_trigger = {
			surrender_progress > 0.20
		}

		targets = { USA CSA CAL }

		target_trigger = {
			FROM = {
				has_war_with = ROOT
				surrender_progress < 0.20
				NOT = { has_country_flag = ACW_rebels_raised_@ROOT }
			}
		}

		cancel_trigger = {
			has_global_flag = USA_civil_war_over_flag
		}

		fire_only_once = no
		days_remove = 15
		days_re_enable = 90
		cost = 0

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 2
				FROM = { tag = CSA }
			}
			modifier = {
				factor = 0.25
				FROM = { tag = CAL }
			}
			modifier = {
				factor = 0.1
				surrender_progress > 0
			}
			modifier = {
				factor = 2
				any_owned_state = { is_controlled_by = FROM }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TEX_inspire_longists target: [From.GetName]"
			add_political_power = -100
			FROM = { set_country_flag = ACW_rebels_raised_@ROOT }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TEX_inspire_longists target: [From.GetName]"
			if = {
				limit = {
					any_state = {
						is_controlled_by = FROM
						OR = {
							state = 368 #Tennessee
							state = 359 #New Jersey
							state = 829 #Southern California
							state = 362 #Virginia
						}
					}
				}
				FROM = { country_event = amcivwar.97 }
				every_state = {
					limit = {
						is_controlled_by = FROM
						OR = {
							state = 368 #Tennessee
							state = 359 #New Jersey
							state = 829 #Southern California
							state = 362 #Virginia
						}
					}
					custom_effect_tooltip = ACW_recruit_5_rebels
					hidden_effect = {
						if = {
							limit = { state = 368 }
							ROOT = { load_oob = "ACW_AUS_inspire_tennessee" }
						}
						if = {
							limit = { state = 359 }
							ROOT = { load_oob = "ACW_AUS_inspire_newjersey" }
						}
						if = {
							limit = { state = 829 }
							ROOT = { load_oob = "ACW_AUS_inspire_southcal" }
						}
						if = {
							limit = { state = 362 }
							ROOT = { load_oob = "ACW_AUS_inspire_virginia" }
						}
					}
				}
			}
			else = {
				add_political_power = 50
				FROM = { clr_country_flag = ACW_rebels_raised_@ROOT }
			}

			if = {
				limit = {
					NOT = {
						has_idea = ACW_federal_front_idea
						has_idea = ACW_syndicalist_front_idea
						has_idea = ACW_longist_front_idea
						has_idea = ACW_pacific_front_idea
					}
				}
				if = {
					limit = { FROM = { tag = USA } }
					add_timed_idea = {
						idea = ACW_federal_front_idea
						days = 20
					}
				}
				else_if = {
					limit = { FROM = { tag = CSA } }
					add_timed_idea = {
						idea = ACW_syndicalist_front_idea
						days = 20
					}
				}
				else_if = {
					limit = { FROM = { tag = CAL } }
					add_timed_idea = {
						idea = ACW_pacific_front_idea
						days = 20
					}
				}
			}
		}
	}

	CSA_inspire_syndicalists = {
		icon = generic_prepare_civil_war
		allowed = { tag = CSA }
		available = {
			FROM = {
				OR = {
					controls_state = 386 #Washington
					controls_state = 365 #Georgia
					controls_state = 796 #New York
					controls_state = 373 #Missouri
				}
			}
		}
		visible = {
			surrender_progress > 0.20
			has_capitulated = no
			has_global_flag = { flag = USA_civil_war_begun_flag days > 60 }
			NOT = { has_global_flag = USA_civil_war_over_flag }
			FROM = {
				exists = yes
				has_war_with = ROOT
				surrender_progress < 0.20
				NOT = { has_country_flag = ACW_rebels_raised_@ROOT }
			}
		}

		target_root_trigger = {
			surrender_progress > 0.20
		}

		targets = { USA TEX CAL }

		target_trigger = {
			FROM = {
				has_war_with = ROOT
				surrender_progress < 0.20
				NOT = { has_country_flag = ACW_rebels_raised_@ROOT }
			}
		}

		cancel_trigger = {
			has_global_flag = USA_civil_war_over_flag
		}

		fire_only_once = no
		days_remove = 15
		days_re_enable = 90
		cost = 0

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0.25
				FROM = { tag = CAL }
			}
			modifier = {
				factor = 0.1
				surrender_progress > 0
			}
			modifier = {
				factor = 2
				any_owned_state = { is_controlled_by = FROM }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CSA_inspire_syndicalists target: [From.GetName]"
			add_political_power = -100
			FROM = { set_country_flag = ACW_rebels_raised_@ROOT }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CSA_inspire_syndicalists target: [From.GetName]"
			if = {
				limit = {
					any_state = {
						is_controlled_by = FROM
						OR = {
							state = 386 #Washington
							state = 365 #Georgia
							state = 796 #New York
							state = 373 #Missouri
						}
					}
				}
				FROM = { country_event = amcivwar.97 }
				every_state = {
					limit = {
						is_controlled_by = FROM
						OR = {
							state = 386 #Washington
							state = 365 #Georgia
							state = 796 #New York
							state = 373 #Missouri
						}
					}
					custom_effect_tooltip = ACW_recruit_5_rebels
					hidden_effect = {
						if = {
							limit = { state = 386 }
							ROOT = { load_oob = "ACW_CSA_inspire_washington" }
						}
						if = {
							limit = { state = 365 }
							ROOT = { load_oob = "ACW_CSA_inspire_georgia" }
						}
						if = {
							limit = { state = 796 }
							ROOT = { load_oob = "ACW_CSA_inspire_newyork" }
						}
						if = {
							limit = { state = 373 }
							ROOT = { load_oob = "ACW_CSA_inspire_missouri" }
						}
					}
				}
			}
			else = {
				add_political_power = 50
				FROM = { clr_country_flag = ACW_rebels_raised_@ROOT }
			}

			if = {
				limit = {
					NOT = {
						has_idea = ACW_federal_front_idea
						has_idea = ACW_syndicalist_front_idea
						has_idea = ACW_longist_front_idea
						has_idea = ACW_pacific_front_idea
					}
				}
				if = {
					limit = { FROM = { tag = USA } }
					add_timed_idea = {
						idea = ACW_federal_front_idea
						days = 20
					}
				}
				else_if = {
					limit = { FROM = { tag = TEX } }
					add_timed_idea = {
						idea = ACW_longist_front_idea
						days = 20
					}
				}
				else_if = {
					limit = { FROM = { tag = CAL } }
					add_timed_idea = {
						idea = ACW_pacific_front_idea
						days = 20
					}
				}
			}
		}
	}

	USA_inspire_loyalists = {
		icon = generic_prepare_civil_war
		allowed = { tag = USA }
		available = {
			FROM = {
				OR = {
					controls_state = 797 #San Francisco
					controls_state = 358 #New York City
					controls_state = 932 #Massachusetts
					controls_state = 375 #Northern Texas
				}
			}
		}
		visible = {
			surrender_progress > 0.20
			has_capitulated = no
			has_global_flag = { flag = USA_civil_war_begun_flag days > 60 }
			NOT = {
				has_global_flag = USA_civil_war_over_flag
				has_country_flag = USA_assassinated_reed
				has_country_flag = USA_ACW_compromise_rejected
				has_country_flag = USA_assassinated_long
				has_country_flag = USA_ACW_austerity_rejected
			}
			FROM = {
				exists = yes
				has_war_with = ROOT
				surrender_progress < 0.20
				NOT = { has_country_flag = ACW_rebels_raised_@ROOT }
			}
		}

		target_root_trigger = {
			surrender_progress > 0.20
		}

		targets = { CSA TEX CAL }

		target_trigger = {
			FROM = {
				has_war_with = ROOT
				surrender_progress < 0.20
				NOT = { has_country_flag = ACW_rebels_raised_@ROOT }
			}
		}

		cancel_trigger = {
			has_global_flag = USA_civil_war_over_flag
		}

		fire_only_once = no
		days_remove = 15
		days_re_enable = 90
		cost = 0

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 2
				FROM = { tag = CSA }
			}
			modifier = {
				factor = 0.1
				surrender_progress > 0
			}
			modifier = {
				factor = 2
				any_owned_state = { is_controlled_by = FROM }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision USA_inspire_loyalists target: [From.GetName]"
			add_political_power = -100
			FROM = { set_country_flag = ACW_rebels_raised_@ROOT }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove USA_inspire_loyalists target: [From.GetName]"
			if = {
				limit = {
					any_state = {
						is_controlled_by = FROM
						OR = {
							state = 797 #San Francisco
							state = 358 #New York City
							state = 932 #Massachusetts
							state = 375 #Northern Texas
						}
					}
				}
				FROM = { country_event = amcivwar.97 }
				every_state = {
					limit = {
						is_controlled_by = FROM
						OR = {
							state = 797 #San Francisco
							state = 358 #New York City
							state = 932 #Massachusetts
							state = 375 #Northern Texas
						}
					}
					custom_effect_tooltip = ACW_recruit_5_rebels
					hidden_effect = {
						if = {
							limit = { state = 797 }
							ROOT = { load_oob = "ACW_USA_inspire_sanfran" }
						}
						if = {
							limit = { state = 358 }
							ROOT = { load_oob = "ACW_USA_inspire_nyc" }
						}
						if = {
							limit = { state = 932 }
							ROOT = { load_oob = "ACW_USA_inspire_massachusetts" }
						}
						if = {
							limit = { state = 375 }
							ROOT = { load_oob = "ACW_USA_inspire_northtex" }
						}
					}
				}
			}
			else = {
				add_political_power = 50
				FROM = { clr_country_flag = ACW_rebels_raised_@ROOT }
			}

			if = {
				limit = {
					NOT = {
						has_idea = ACW_syndicalist_front_idea
						has_idea = ACW_longist_front_idea
						has_idea = ACW_pacific_front_idea
					}
				}
				if = {
					limit = { FROM = { tag = CSA } }
					add_timed_idea = {
						idea = ACW_syndicalist_front_idea
						days = 20
					}
				}
				else_if = {
					limit = { FROM = { tag = TEX } }
					add_timed_idea = {
						idea = ACW_longist_front_idea
						days = 20
					}
				}
				else_if = {
					limit = { FROM = { tag = CAL } }
					add_timed_idea = {
						idea = ACW_pacific_front_idea
						days = 20
					}
				}
			}
		}
	}

	ACW_federal_front = {
		icon = generic_prepare_civil_war
		allowed = {
			OR = {
				tag = CSA
				tag = TEX
				tag = CAL
			}
		}
		available = {
			NOT = {
				has_idea = ACW_federal_front_idea
				has_idea = ACW_syndicalist_front_idea
				has_idea = ACW_longist_front_idea
				has_idea = ACW_pacific_front_idea
			}
		}
		visible = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
			has_war_with = USA
		}

		days_re_enable = 180
		fire_only_once = no

		custom_cost_trigger = {
			command_power > 25
			has_political_power > 25
		}
		custom_cost_text = CP_25_PP_25

		ai_will_do = {
			factor = 250
			modifier = {
				factor = 0
				NOT = {
					any_controlled_state = {
						any_neighbor_state = {
							is_controlled_by = USA
						}
					}
				}
			}
			modifier = {
				factor = 2
				any_owned_state = {
					is_core_of = ROOT
					is_controlled_by = USA
				}
			}
			modifier = {
				factor = 2
				set_temp_variable = { usa_cont = 0 }
				add_to_temp_variable = { usa_cont = USA.num_of_controlled_states }
				set_temp_variable = { csa_cont = 0 }
				add_to_temp_variable = { csa_cont = CSA.num_of_controlled_states }
				set_temp_variable = { tex_cont = 0 }
				add_to_temp_variable = { tex_cont = TEX.num_of_controlled_states }
				set_temp_variable = { cal_cont = 0 }
				add_to_temp_variable = { cal_cont = CAL.num_of_controlled_states }
				check_variable = { usa_cont > csa_cont }
				check_variable = { usa_cont > tex_cont }
				check_variable = { usa_cont > cal_cont }
			}
			modifier = {
				factor = 0.25
				set_temp_variable = { global.num = 0 }
				all_of = {
					array = controlled_states
					var:v = {
						if = {
							limit = { any_neighbor_state = { is_controlled_by = USA } }
							add_to_temp_variable = { global.num = 1 }
						}
					}
				}
				check_variable = { global.num < 3 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_federal_front"
			hidden_effect = {
				add_command_power = -25
				add_political_power = -25
			}
			add_timed_idea = {
				idea = ACW_federal_front_idea
				days = 90
			}
			if = {
				limit = {
					CAN = {
						has_war_with = USA
						has_country_flag = CAN_joined_the_ACW
						has_country_flag = CAN_supports_@ROOT
					}
				}
				CAN = {
					add_timed_idea = {
						idea = ACW_federal_front_idea
						days = 90
					}
				}
			}
		}
	}

	ACW_syndicalist_front = {
		icon = generic_prepare_civil_war
		allowed = {
			OR = {
				tag = USA
				tag = TEX
				tag = CAL
			}
		}
		available = {
			NOT = {
				has_idea = ACW_federal_front_idea
				has_idea = ACW_syndicalist_front_idea
				has_idea = ACW_longist_front_idea
				has_idea = ACW_pacific_front_idea
				has_idea = ACW_assassinated_long
			}
		}
		visible = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
			has_war_with = CSA
		}

		days_re_enable = 180
		fire_only_once = no

		custom_cost_trigger = {
			command_power > 25
			has_political_power > 25
		}
		custom_cost_text = CP_25_PP_25

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				tag = CAL
				country_exists = USA
			}
			modifier = {
				factor = 0.75
				tag = TEX
				country_exists = USA
			}
			modifier = {
				factor = 2
				tag = USA
			}
			modifier = {
				factor = 0
				NOT = {
					any_controlled_state = {
						any_neighbor_state = {
							is_controlled_by = CSA
						}
					}
				}
			}
			modifier = {
				factor = 2
				any_owned_state = {
					is_core_of = ROOT
					is_controlled_by = CSA
				}
			}
			modifier = {
				factor = 2
				set_temp_variable = { usa_cont = 0 }
				add_to_temp_variable = { usa_cont = USA.num_of_controlled_states }
				set_temp_variable = { csa_cont = 0 }
				add_to_temp_variable = { csa_cont = CSA.num_of_controlled_states }
				set_temp_variable = { tex_cont = 0 }
				add_to_temp_variable = { tex_cont = TEX.num_of_controlled_states }
				set_temp_variable = { cal_cont = 0 }
				add_to_temp_variable = { cal_cont = CAL.num_of_controlled_states }
				check_variable = { csa_cont > usa_cont }
				check_variable = { csa_cont > tex_cont }
				check_variable = { csa_cont > cal_cont }
			}
			modifier = {
				factor = 0.25
				set_temp_variable = { global.num = 0 }
				all_of = {
					array = controlled_states
					var:v = {
						if = {
							limit = { any_neighbor_state = { is_controlled_by = CSA } }
							add_to_temp_variable = { global.num = 1 }
						}
					}
				}
				check_variable = { global.num < 3 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_syndicalist_front"
			hidden_effect = {
				add_command_power = -25
				add_political_power = -25
			}
			add_timed_idea = {
				idea = ACW_syndicalist_front_idea
				days = 90
			}
			if = {
				limit = {
					CAN = {
						has_war_with = CSA
						has_country_flag = CAN_joined_the_ACW
						has_country_flag = CAN_supports_@ROOT
					}
				}
				CAN = {
					add_timed_idea = {
						idea = ACW_syndicalist_front_idea
						days = 90
					}
				}
			}
		}
	}

	ACW_longist_front = {
		icon = generic_prepare_civil_war
		allowed = {
			OR = {
				tag = USA
				tag = CSA
				tag = CAL
			}
		}
		available = {
			NOT = {
				has_idea = ACW_federal_front_idea
				has_idea = ACW_syndicalist_front_idea
				has_idea = ACW_longist_front_idea
				has_idea = ACW_pacific_front_idea
				has_idea = ACW_assassinated_reed
			}
		}
		visible = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
			has_war_with = TEX
		}

		days_re_enable = 180
		fire_only_once = no

		custom_cost_trigger = {
			command_power > 25
			has_political_power > 25
		}
		custom_cost_text = CP_25_PP_25

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				tag = CAL
				country_exists = USA
			}
			modifier = {
				factor = 0.5
				tag = CSA
				country_exists = USA
			}
			modifier = {
				factor = 0
				NOT = {
					any_controlled_state = {
						any_neighbor_state = {
							is_controlled_by = TEX
						}
					}
				}
			}
			modifier = {
				factor = 2
				any_owned_state = {
					is_core_of = ROOT
					is_controlled_by = TEX
				}
			}
			modifier = {
				factor = 2
				set_temp_variable = { usa_cont = 0 }
				add_to_temp_variable = { usa_cont = USA.num_of_controlled_states }
				set_temp_variable = { csa_cont = 0 }
				add_to_temp_variable = { csa_cont = CSA.num_of_controlled_states }
				set_temp_variable = { tex_cont = 0 }
				add_to_temp_variable = { tex_cont = TEX.num_of_controlled_states }
				set_temp_variable = { cal_cont = 0 }
				add_to_temp_variable = { cal_cont = CAL.num_of_controlled_states }
				check_variable = { tex_cont > usa_cont }
				check_variable = { tex_cont > csa_cont }
				check_variable = { tex_cont > cal_cont }
			}
			modifier = {
				factor = 0.25
				set_temp_variable = { global.num = 0 }
				all_of = {
					array = controlled_states
					var:v = {
						if = {
							limit = { any_neighbor_state = { is_controlled_by = TEX } }
							add_to_temp_variable = { global.num = 1 }
						}
					}
				}
				check_variable = { global.num < 3 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_longist_front"
			hidden_effect = {
				add_command_power = -25
				add_political_power = -25
			}
			add_timed_idea = {
				idea = ACW_longist_front_idea
				days = 90
			}
			if = {
				limit = {
					CAN = {
						has_war_with = TEX
						has_country_flag = CAN_joined_the_ACW
						has_country_flag = CAN_supports_@ROOT
					}
				}
				CAN = {
					add_timed_idea = {
						idea = ACW_longist_front_idea
						days = 90
					}
				}
			}
		}
	}

	ACW_pacific_front = {
		icon = generic_prepare_civil_war
		allowed = {
			OR = {
				tag = USA
				tag = CSA
				tag = TEX
			}
		}
		available = {
			NOT = {
				has_idea = ACW_federal_front_idea
				has_idea = ACW_syndicalist_front_idea
				has_idea = ACW_longist_front_idea
				has_idea = ACW_pacific_front_idea
			}
		}
		visible = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
			has_war_with = CAL
		}

		days_re_enable = 180
		fire_only_once = no

		custom_cost_trigger = {
			command_power > 25
			has_political_power > 25
		}
		custom_cost_text = CP_25_PP_25

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { tag = USA }
				country_exists = USA
			}
			modifier = {
				factor = 20
				NOT = { country_exists = USA }
			}
			modifier = {
				factor = 0
				NOT = {
					any_controlled_state = {
						any_neighbor_state = {
							is_controlled_by = CAL
						}
					}
				}
			}
			modifier = {
				factor = 2
				any_owned_state = {
					is_core_of = ROOT
					is_controlled_by = CAL
				}
			}
			modifier = {
				factor = 2
				set_temp_variable = { usa_cont = 0 }
				add_to_temp_variable = { usa_cont = USA.num_of_controlled_states }
				set_temp_variable = { csa_cont = 0 }
				add_to_temp_variable = { csa_cont = CSA.num_of_controlled_states }
				set_temp_variable = { tex_cont = 0 }
				add_to_temp_variable = { tex_cont = TEX.num_of_controlled_states }
				set_temp_variable = { cal_cont = 0 }
				add_to_temp_variable = { cal_cont = CAL.num_of_controlled_states }
				check_variable = { cal_cont > usa_cont }
				check_variable = { cal_cont > csa_cont }
				check_variable = { cal_cont > tex_cont }
			}
			modifier = {
				factor = 0.25
				set_temp_variable = { global.num = 0 }
				all_of = {
					array = controlled_states
					var:v = {
						if = {
							limit = { any_neighbor_state = { is_controlled_by = CAL } }
							add_to_temp_variable = { global.num = 1 }
						}
					}
				}
				check_variable = { global.num < 3 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_pacific_front"
			hidden_effect = {
				add_command_power = -25
				add_political_power = -25
			}
			add_timed_idea = {
				idea = ACW_pacific_front_idea
				days = 90
			}
			if = {
				limit = {
					CAN = {
						has_war_with = CAL
						has_country_flag = CAN_joined_the_ACW
						has_country_flag = CAN_supports_@ROOT
					}
				}
				CAN = {
					add_timed_idea = {
						idea = ACW_pacific_front_idea
						days = 90
					}
				}
			}
		}
	}

	ACW_arms_dealers = {
		icon = ger_military_buildup
		allowed = {
			OR = {
				tag = USA
				tag = CSA
				tag = TEX
				tag = CAL
			}
		}
		available = {
			NOT = { has_equipment = { infantry_equipment > 250 } }
			has_political_power > -1000
		}
		visible = {
			is_ai = yes
			has_global_flag = USA_civil_war_begun_flag
			NOT = { has_global_flag = USA_civil_war_over_flag }
		}

		fire_only_once = no
		days_re_enable = 90
		cost = 0

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_arms_dealers"
			if = {
				limit = {
					OR = {
						ACW_player_involved = yes
						has_political_power > 100
					}
				}
				add_political_power = -100
			}
			if = {
				limit = {
					tag = CSA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 1500
					producer = FRA
				}
			}
			else_if = {
				limit = {
					tag = CAL
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 1500
					producer = JAP
				}
			}
			else_if = {
				limit = {
					tag = TEX
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 1500
					producer = GER
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 1500
					producer = CAN
				}
			}
		}
	}

	USA_reunite_with_PSA = {
		icon = us_flag
		allowed = { tag = USA }
		available = {
			ROOT = {
				has_war = no
				has_elected_government = yes
				is_subject = no
			}
			FROM = {
				has_war = no
				has_elected_government = yes
				OR = {
					is_subject = no
					is_subject_of = USA
				}
			}
			custom_trigger_tooltip = {
				tooltip = ACW_ceasefire_one_month
				has_global_flag = { flag = PSA_rockies_ceasefire days > 29 }
			}
		}
		visible = {
			has_global_flag = PSA_rockies_ceasefire
			NOT = { has_war_with = FROM }
			FROM = { exists = yes }
		}

		targets = { CAL }
		target_trigger = {
			always = yes
		}

		fire_only_once = yes
		cost = 25

		ai_will_do = {
			factor = 200
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision USA_reunite_with_PSA target: [From.GetName]"
			set_country_flag = USA_considering_reunion
			CAL = {
				country_event = ustates.530
			}
		}
	}

	ACW_break_ceasefire = {
		icon = generic_prepare_civil_war
		allowed = {
			OR = {
				tag = USA
				tag = CSA
				tag = TEX
				tag = CAL
			}
		}
		available = {
			is_subject = no
			controls_all_owned_states = yes
			can_declare_war_on = FROM
			custom_trigger_tooltip = {
				tooltip = ACW_ceasefire_six_months
				has_global_flag = { flag = PSA_rockies_ceasefire days > 180 }
			}
		}
		visible = {
			has_global_flag = PSA_rockies_ceasefire
			NOT = { has_war_with = FROM }
			FROM = { exists = yes }
		}

		targets = { USA CSA TEX CAL }

		target_trigger = {
			FROM = {
				exists = yes
			}
		}

		fire_only_once = yes
		cost = 60
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 1.25 }
			}
			modifier = {
				factor = 0
				FROM = {
					is_in_faction = yes
					any_allied_country = {
						strength_ratio = { tag = ROOT ratio > 1.5 }
					}
				}
			}
			modifier = {
				factor = 0
				USA = { has_country_flag = USA_considering_reunion }
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ACW_break_ceasefire target: [From.GetName]"
			clr_global_flag = PSA_rockies_ceasefire
			add_war_support = 0.10
			FROM = {
				every_owned_state = {
					limit = {
						is_not_claim_or_core_of_ROOT = yes
						OR = {
							region = 33 #Alaska
							state = 685 #Panama Canal
							is_mainland_america = yes
						}
					}
					add_claim_by = ROOT
				}
			}
			declare_war_on = {	type = annex_everything	target = FROM }
		}
	}

	CAL_Operation_Liberty_mission = {
		icon = generic_ignite_civil_war

		allowed = { always = no } #manually activated

		available = {
			has_full_control_of_state = 387 #Idaho
			has_full_control_of_state = 380 #Utah
			has_full_control_of_state = 377	#Arizona
		}
		
		cancel_trigger = {
			has_global_flag = USA_civil_war_over_flag
		}

		days_mission_timeout = 150
		is_good = no
		fire_only_once = yes

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout CAL_Operation_Liberty_mission"
			add_timed_idea = {
				idea = CAL_failed_operation_liberty
				days = 120
			}
			hidden_effect = {
				country_event = pacificstates.202
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAL_Operation_Liberty_mission"
			country_event = pacificstates.201
		}
	}

	CAL_influx_of_refugees = {
		icon = eng_puppet_usa

		allowed = { always = no } #manually activated

		available = {
			hidden_trigger = { always = no }
		}
		
		cancel_trigger = {
			OR = {
				NOT = { country_exists = TEX }
				TEX = { surrender_progress > 0.8 }
			}
			OR = {
				NOT = { country_exists = CSA }
				CSA = { surrender_progress > 0.8 }
			}
			OR = {
				NOT = { country_exists = USA }
				USA = { surrender_progress > 0.8 }
			}
		}

		days_mission_timeout = 90

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout CAL_Refugee_Influx"
			add_political_power = -20
			add_manpower = 10000
			hidden_effect = { activate_mission = CAL_influx_of_refugees }
		}
	}
}
